body {
  font-family: 'Optima', serif;
  background-color: #F4EFE1;
  color: #2A1C08;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  margin: 0;
}

.app-container {
  width: calc(100% - 40px);
  height: calc(100vh - 40px);
  margin: 20px;
  display: flex;
  flex-direction: column;
  background: #F4EFE1;
  border-radius: 24px;
  box-shadow:
    0 10px 25px rgba(138, 97, 45, 0.35),
    0 -10px 25px rgba(138, 97, 45, 0.25),
    10px 0 25px rgba(138, 97, 45, 0.25),
    -10px 0 25px rgba(138, 97, 45, 0.25),
    inset 0 2px 6px rgba(255, 255, 255, 0.3);
  overflow: hidden;
}
/* Header */
.header {
  background-color: #F1E8DA;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 20px;
  font-weight: bold;
  color: #2A1C08;
  border-bottom: 1px solid #D8C9B4;
}

.header-title {
  font-size: 1.3em;
  letter-spacing: 0.5px;
}

.tabs {
  display: flex;
  gap: 8px;
}

/* Stile base per tutte le schede */
.tab {
  background-color: #F1E8DA; /* pi√π chiara, come lo sfondo */
  color: #2A1C08;
  border: none;
  border-radius: 8px;
  padding: 10px 16px;
  font-weight: 600;
  cursor: pointer;
  box-shadow:
    inset 0 1px 3px rgba(42, 28, 8, 0.08),
    0 2px 6px rgba(42, 28, 8, 0.18);
  transition: all 0.25s ease-in-out;
}

/* Stato attivo ‚Äî sabbia vellutato */
.tab.active {
  background-color: #E2D5C2; /* sabbia pi√π calda */
  box-shadow:
    inset 0 2px 4px rgba(42, 28, 8, 0.25),
    0 2px 4px rgba(42, 28, 8, 0.15);
  transform: translateY(1px);
}

/* Effetto al passaggio */
.tab:hover {
  box-shadow:
    inset 0 1px 3px rgba(42, 28, 8, 0.1),
    0 3px 8px rgba(42, 28, 8, 0.25);
  transform: translateY(-1px);
}

/* Tasto Clienti ‚Äî chiaro ma pi√π definito */
.tab:first-child {
  background-color: #F1E8DA;
  color: #2A1C08;
  border: none;
  border-radius: 8px;
  padding: 10px 16px;
  font-weight: 600;
  cursor: pointer;
  box-shadow:
    inset 0 1px 3px rgba(42, 28, 8, 0.08),
    0 2px 6px rgba(42, 28, 8, 0.18); /* ombra esterna morbida */
  transition: box-shadow 0.2s ease;
}

.tab:first-child:hover {
  box-shadow:
    inset 0 1px 3px rgba(42, 28, 8, 0.1),
    0 3px 8px rgba(42, 28, 8, 0.25);
}

/* Scheda Marika e pulsanti sabbia vellutati */
.tab.active, #send-btn, #mic-btn {
  background-color: #E2D5C2;
  color: #2A1C08;
  border: none;
  border-radius: 8px;
  padding: 8px 14px;
  font-size: 0.92em;
  cursor: pointer;
  box-shadow: 0 3px 6px rgba(42, 28, 8, 0.25);
  transition: all 0.2s ease-in-out;
}

/* Effetto al passaggio */
.tab:hover, #send-btn:hover, #mic-btn:hover {
  box-shadow: 0 4px 8px rgba(42, 28, 8, 0.3);
  transform: translateY(-1px);
}

/* Chat */
.chat-window {
  flex: 1;
  overflow-y: auto;
  padding: 28px;
  background-color: #F8F4EA;
  box-shadow: inset 0 1px 6px rgba(42, 28, 8, 0.06);
}

.message {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-bottom: 8px; /* distanza tra una bolla e l‚Äôaltra */
}
.message.user {
  align-items: flex-end;
  max-width: 60%;
  margin-left: auto;
}

.message.assistant {
  align-items: flex-start;
  max-width: 100%;
}

.text {
  background: none;
  padding: 8px 10px;
  line-height: 1.65;
  border-radius: 8px;
  text-align: left; /* ‚Üê molto pi√π naturale e leggibile */
  word-break: normal;
  hyphens: none;
}

/* Linea e icona copia */
.meta {
  font-size: 0.8em;
  color: rgba(42, 28, 8, 0.6);
  border-top: 1px solid rgba(138, 97, 45, 0.2);
  padding-top: 2px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 6px;
  margin-top: 4px;
}

.message.user .meta,
.message.assistant .meta {
  width: 3cm; /* lunghezza fissa 3 cm */
}

.message.user .meta {
  margin-left: auto;
  justify-content: flex-end;
}

.message.assistant .meta {
  margin-right: auto;
  justify-content: flex-start;
}

.copy {
  cursor: pointer;
  opacity: 0.7;
}

.copy:hover {
  opacity: 1;
}

/* Area input */
.input-area {
  display: flex;
  align-items: center;
  gap: 8px;
  background-color: #F1E8DA;
  padding: 12px 16px;
  border-top: 1px solid rgba(138, 97, 45, 0.25); /* linea calda come l‚Äôombra */
  box-shadow: none; /* nessuna ombra extra */
  border-radius: 0 0 24px 24px;
}
textarea {
  flex: 1;
  resize: none;
  border: none;
  background: #F4EFE1;
  border-radius: 8px;
  padding: 10px;
  font-size: 1em;
  color: #2A1C08;
  box-shadow:
    inset 0 1px 3px rgba(138, 97, 45, 0.08),   /* sopra appena visibile */
    inset 0 -3px 6px rgba(138, 97, 45, 0.25);  /* sotto calda come il bordo esterno */
  transition: box-shadow 0.2s ease;
}

textarea:focus {
  outline: none;
  box-shadow:
    inset 0 1px 3px rgba(138, 97, 45, 0.12),
    inset 0 -3px 6px rgba(138, 97, 45, 0.25),
    0 0 8px rgba(138, 97, 45, 0.35); /* tinta sabbia come il bordo esterno */
}

textarea::placeholder {
  font-size: 0.82em;               /* pi√π piccolo */
  color: rgba(42, 28, 8, 0.25);    /* molto trasparente */
  font-style: italic;              /* leggero accenno elegante */
}

.input-buttons {
  display: flex;
  gap: 8px;
}

/* üå∏ CORREZIONI PER MOBILE ‚Äî versione unificata */
@media (max-width: 768px) {

  /* üîπ Sposta le schede a destra e nascondi titolo */
  .tabs {
    margin-left: auto;
  }

  .header-title {
    display: none;
  }

  /* üîπ Uniforma tutto lo sfondo (header + area notch + chat) */
  html, body, .header {
    background-color: #F4EFE1 !important;
  }

  /* üîπ Eleva leggermente tutto il blocco centrale */
  .app-container {
    transform: translateY(-2mm);
    width: calc(100% - 40px);
    height: calc(100vh - 40px);
    margin: 20px;
    display: flex;
    flex-direction: column;
    background: #F4EFE1;
    border-radius: 24px;
    box-shadow:
      0 10px 25px rgba(138, 97, 45, 0.35),
      0 -10px 25px rgba(138, 97, 45, 0.25),
      10px 0 25px rgba(138, 97, 45, 0.25),
      -10px 0 25px rgba(138, 97, 45, 0.25);
    overflow: hidden;
    position: relative;
  }

  /* üîπ Header fuso con lo sfondo */
  .header {
    background: linear-gradient(to bottom, #F4EFE1 0%, #F4EFE1 85%, #F8F4EA 100%);
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 20px;
    font-weight: bold;
    color: #2A1C08;
    border: none;
    box-shadow: none;
    position: relative;
    z-index: 3;
  }

  /* üîπ Linea di fusione tra header e chat */
  .header::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(to bottom, rgba(244,239,225,0.7), rgba(244,239,225,0));
  }

  /* üîπ Fusione con barra superiore (notch/ora/batteria) */
  body::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: env(safe-area-inset-top, 40px);
    background-color: #F4EFE1;
    z-index: 9999;
  }

  /* üîπ Testo e leggibilit√† */
/* üîπ Testo delle bolle ‚Äî pi√π grande, leggibile e con grassetto visibile */
/* üí¨ Testo delle bolle ‚Äî visibile e coerente su tutti i dispositivi */
.text {
  font-size: 1.15em;     /* dimensione fissa su desktop */
  font-weight: 400;
  color: #1A0E04;
  line-height: 1.65;
}

/* üì± Su mobile il testo diventa leggermente pi√π grande per leggibilit√† */
/* üì± Migliora leggibilit√† testo su iPhone */
@media (max-width: 768px) {
  .text {
    font-size: 1.3em;              /* leggermente pi√π grande */
    color: #160D03;                /* tono pi√π profondo e caldo */
    -webkit-font-smoothing: antialiased; /* migliora la nitidezza */
    text-rendering: optimizeLegibility;
    text-shadow: 0.25px 0.25px 0 rgba(0, 0, 0, 0.25); /* spessore ottico delicatissimo */
  }

  /* Il testo digitato nel campo Scrivi... */
  textarea {
    font-size: 1.15em;
    color: #160D03;
    text-shadow: 0.25px 0.25px 0 rgba(0, 0, 0, 0.25);
  }

  textarea::placeholder {
    color: rgba(22, 13, 3, 0.45);
  }
}
}
  /* üîπ Pulsanti pi√π visibili e proporzionati */
  .tab {
    font-size: 1.05em;
    padding: 10px 18px;
  }

  #send-btn,
  #mic-btn {
    height: 48px;
    font-size: 1.05em;
    padding: 12px 18px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  #mic-btn {
    font-size: 1.4em;
  }

  /* üîπ Margine in basso per non coprire con tastiera */
  .input-area {
    padding-bottom: 1.2rem;
  }
}

@media (max-width: 768px) {
  #send-btn, #mic-btn, .tab {
    font-size: 1.05em;
    padding: 10px 18px;
  }
}

/* üå∏ Layout pi√π ampio e arioso solo per iPhone / mobile */
@media (max-width: 768px) {
  .app-container {
    width: calc(100% - 40px);
    height: calc(100vh - 40px);
    margin: 20px;
    display: flex;
    flex-direction: column;
    background: #F4EFE1;
    border-radius: 24px;
    box-shadow:
      0 -10px 25px rgba(138, 97, 45, 0.25),   /* ombra sopra */
      0 10px 25px rgba(138, 97, 45, 0.35);    /* ombra sotto */
    overflow: hidden;
  }

  /* Chat pi√π ampia e senza chiusura laterale */
  .chat-window {
    flex: 1;
    overflow-y: auto;
    padding: 28px 40px; /* respiro ai lati */
    background-color: #F8F4EA;
    box-shadow: inset 0 1px 6px rgba(42, 28, 8, 0.06);
  }
}
